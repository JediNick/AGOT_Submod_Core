# Tags:
# rank_headgear: any headgear that signifies a certain title. crowns, pope hat etc.

headgear_base = {

	usage = game
	selection_behavior = weighted_random
	priority = 1

## SP4 Crowns of the World ## 

	sp4_mena_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp4_mena_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
            modifier = {
                add = 30
                has_sp4_dlc_trigger = yes    
                portrait_royalty_trigger = {
                    CULTURE_INPUT = mena
                }           
            }
            modifier = {
                add = 60
                has_sp4_dlc_trigger = yes    
                portrait_royalty_trigger = {
                    CULTURE_INPUT = turkic
                }           
            }
            modifier = {
                factor = 0 # Should NOT show up if we're not in the right era
                OR = {
                    portrait_era1_trigger = yes   
                    portrait_era2_trigger = yes   
                }            
            }
		}
	}

	sp4_rus_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp4_rus_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
            modifier = {
                add = 100
                has_sp4_dlc_trigger = yes    
                portrait_royalty_trigger = {
                    CULTURE_INPUT = rus
                }           
            }
            modifier = {
                add = -50
                has_pol_dlc_trigger = yes    
                portrait_royalty_trigger = {
                    CULTURE_INPUT = west_slavic
                } 
                OR = {
                    portrait_era3_trigger = yes   
                    portrait_era4_trigger = yes   
                }           
            }
		}
	}

	sp4_western_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp4_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
            modifier = {
                add = 50
                has_sp4_dlc_trigger = yes    
                portrait_royalty_trigger = {
                    CULTURE_INPUT = western
                }           
            }
            modifier = {
                factor = 0 # Should NOT show up if we're not in the right era
                OR = {
                    portrait_era1_trigger = yes   
                    portrait_era2_trigger = yes   
                }            
            }
		}
	}

## SP3 ## 

	sp3_western_royalty_era3 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp3_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era1_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
            modifier = {
                add = 100
                has_dlc_feature = couture_of_the_capets     
                portrait_royalty_trigger = {
                    CULTURE_INPUT = western
                }           
                portrait_royalty_trigger = {
                    CULTURE_INPUT = french
                } 
            }
			modifier = {
				add = 90
				has_dlc_feature = couture_of_the_capets
				portrait_royalty_trigger = {
					CULTURE_INPUT = western
				}					
			}
            modifier = {
                factor = 0 # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes 
                OR = {
                    portrait_era1_trigger = yes   
                    portrait_era2_trigger = yes   
                }     
                NAND = {
                	portrait_era1_trigger = no
                    portrait_royalty_trigger = {
                        CULTURE_INPUT = french
                    } 
                }        
            }
		}
	}

	sp3_western_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp3_western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_female = no
				has_dlc_feature = couture_of_the_capets
				portrait_high_nobles_headgear_trigger = {
					CULTURE_INPUT = western
				}	
			}
            modifier = {
                factor = 0
                has_ep2_dlc_trigger = yes 
                OR = {
                    portrait_era1_trigger = yes   
                    portrait_era2_trigger = yes   
                }     
                NAND = {
                    portrait_era1_trigger = no
                    portrait_royalty_trigger = {
                        CULTURE_INPUT = french
                    } 
                }         
            }
		}
	}

	sp3_western_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp3_western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_female = yes
				has_dlc_feature = couture_of_the_capets
				portrait_low_nobles_clothing_trigger = {
					CULTURE_INPUT = western
				}	
			}
			modifier = {
				factor = 0
				has_ep2_dlc_trigger = yes
				NOR = {
					portrait_era3_trigger = yes 
					portrait_era4_trigger = yes
				}
			}
		}
	}

## SP2 ## 
	
	sp2_western_imperial_era1 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp2_western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era1_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 90
				has_dlc_feature = elegance_of_the_empire
				OR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = western
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = northern
					}						
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}					
				}
			}
			modifier = {
				add = 90
				has_dlc_feature = elegance_of_the_empire
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = western
					}	
					portrait_imperial_trigger = {
						CULTURE_INPUT = western
					}	
					portrait_royalty_trigger = {
						CULTURE_INPUT = northern
					}	
					portrait_imperial_trigger = {
						CULTURE_INPUT = northern
					}					
					portrait_royalty_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = ugro_permian
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}					
				}
				is_female = yes
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes 
                NOT = {
                	portrait_era1_trigger = yes 
                }  
            }
		}
	}

	sp2_western_imperial_era2 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp2_western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era2_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 90
				has_dlc_feature = elegance_of_the_empire
				OR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = western
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = northern
					}						
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}						
				}
			}
			modifier = {
				add = 90
				has_dlc_feature = elegance_of_the_empire
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = western
					}	
					portrait_imperial_trigger = {
						CULTURE_INPUT = western
					}	
					portrait_royalty_trigger = {
						CULTURE_INPUT = northern
					}	
					portrait_imperial_trigger = {
						CULTURE_INPUT = northern
					}					
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = ugro_permian
					}				
				}
				is_female = yes
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes 
                NOT = {
                	portrait_era2_trigger = yes 
                }  
            }
		}
	}

	sp2_western_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp2_western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era2_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				has_dlc_feature = elegance_of_the_empire
				portrait_high_nobles_headgear_trigger = {
					CULTURE_INPUT = western
				}	
			}
			modifier = {
				factor = 0
				has_ep2_dlc_trigger = yes
				NOR = {
					portrait_era2_trigger = yes 
					portrait_era3_trigger = yes
				}
			}
		}
	}


## DDE HRE ##

	dde_hre_commoners = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = dde_hre # CULTURE_INPUT gets added into the trigger referenced in 00_clothing_triggers.txt so it's important the input is a correct match to an existing culture trigger
                }
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOR = { 
                	portrait_era3_trigger = yes 
                	portrait_era4_trigger = yes 
                } 
            }
		}
	}

	dde_hre_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = dde_hre } # common/scripted_modifiers/00_portrait_modifiers.txt
			modifier = {
				add = 50
				portrait_low_nobles_clothing_trigger = {
					CULTURE_INPUT = dde_hre
				}
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOR = { 
                	portrait_era3_trigger = yes 
                	portrait_era4_trigger = yes 
                } 
            }
		}
	}

	dde_hre_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era3_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_high_nobles_headgear_trigger = {
					CULTURE_INPUT = dde_hre
				}	
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOR = { 
                	portrait_era3_trigger = yes 
                	portrait_era4_trigger = yes 
                } 
            }
		}
	}

	dde_hre_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era3_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_trigger = {
					CULTURE_INPUT = dde_hre
				}	
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOR = { 
                	portrait_era3_trigger = yes 
                	portrait_era4_trigger = yes 
                } 
            }
		}
	}

	# Reichskrone
	#Disabled
	# dde_hre_imperial = {
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = dde_hre_imperial
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 		accessory = { # Can be combined with veils
	# 			mode = add
	# 			gene = additive_headgear
	# 			template = ep2_western_era2_veils
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 	}
	# 	weight = {
	# 		base = 0
	# 		modifier = {
	# 			add = 100 # always pick the HRE crown over the western one
	# 			portrait_reichskrone_trigger = yes
	# 		}
	# 	}
	# }

## Western ##

	western_commoners = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = western
				}
				NOT = { has_ep2_dlc_trigger = yes }
			}
			modifier = {
				add = 20
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = western
				}
				NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}

    ep2_western_era1_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ep2_western_era1_common
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = western
				}
				has_ep2_dlc_trigger = yes 
				portrait_era1_trigger = yes 
			}
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes     
            }
        }
    }

    ep2_western_era2_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = western_common
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = western
				}
				has_ep2_dlc_trigger = yes 
				portrait_era2_trigger = yes 
			}
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era2_trigger = yes     
            }
        }
    }

    ep2_western_era3_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ep2_western_era3_common
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = western
				}
				has_ep2_dlc_trigger = yes 
				portrait_era3_trigger = yes 
			}
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era3_trigger = yes     
            }
        }
    }

    fp4_western_era3_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = fp4_western_era3_common
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = western
				}
				portrait_era3_trigger = yes 
			}
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                portrait_era3_trigger = yes     
            }
        }
    }

	western_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = western 
                }
                NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}

	ep2_western_era1_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era1_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

	ep2_western_era2_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era2_trigger = yes 
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era2_trigger = yes  
			}
		}
	}

	ep2_western_era3_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era3_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era3_trigger = yes 
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }
			}
		}
	}

	fp4_western_era3_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp4_western_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ce1_dlc_trigger = yes
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ce1_dlc_trigger = yes
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }
			}
		}
	}

	western_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = western_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {  
                    CULTURE_INPUT = western 
                }
                NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}

	ep2_western_era1_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era1_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era1_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

	ep2_western_era2_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era2_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era2_trigger = yes  
			}
		}
	}

	ep2_western_era3_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era3_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }
			}
		}
	}

	western_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = western_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_trigger = {
					CULTURE_INPUT = western 
				}
				NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}

	ep1_western_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep1_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = western_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_trigger = {
					CULTURE_INPUT = western 
				}
			}
			modifier = {
				factor = 0
				NOT = {
					has_ep1_dlc_trigger = yes
				}
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes 
                NOT = {
                	portrait_era2_trigger = yes  
                }  
            }
		}
	}

	ep1_western_era1_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep1_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era1_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_trigger = {
					CULTURE_INPUT = western 
				}
			}
			modifier = {
				factor = 0
				NOT = {
					has_ep1_dlc_trigger = yes
				}
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes 
                NOT = {
                	portrait_era1_trigger = yes
                }  
            }
		}
	}

	ep2_western_era1_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era1_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era1_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

	ep2_western_era2_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era2_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era2_trigger = yes  
			}
			modifier = {
				factor = 0
				has_ce1_dlc_trigger = yes
			}
		}
	}

	ep2_western_era3_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_era3_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era3_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era3_trigger = yes
                	portrait_era4_trigger = yes
                }  
			}
		}
	}

	#AGOT Disabled
	# ep1_italian_royalty = { # The Iron Crown of Lombardy
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = ep1_italian_royalty
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 		accessory = { # Can be combined with veils
	# 			mode = add
	# 			gene = additive_headgear
	# 			template = western_veils
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 	}
	# 	weight = {
	# 		base = 0
	# 		modifier = {
	# 			add = 50
	# 			portrait_royalty_trigger = {
	# 				CULTURE_INPUT = western 
	# 			}
	# 			culture = {
	# 				has_cultural_pillar = heritage_latin
	# 			}
	# 			has_ep1_dlc_trigger = yes
	# 		}
	# 	}
	# }

	fp4_western_era2_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp4_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era2_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ce1_dlc_trigger = yes
                portrait_era2_trigger = yes  
			}
		}
	}

	western_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = western_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_imperial_trigger = {
					CULTURE_INPUT = western 
				}
				NOT = { has_ep2_dlc_trigger = yes }
			}
			modifier = {
				add = 50
				OR = {
				portrait_imperial_trigger = {
					CULTURE_INPUT = northern 
				}
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}
				}
				NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}

	ep2_western_era1_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era1_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era1_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
			modifier = {
				add = 50
				OR = {
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = northern 
                }
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}
				}
                has_ep2_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

	ep2_western_era2_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era2_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era2_trigger = yes
                	portrait_era3_trigger = yes
                }  
			}
			modifier = {
				add = 50
				OR = {
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = northern 
                }
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}
				}
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era2_trigger = yes
                	portrait_era3_trigger = yes
                }  
			}
		}
	}

	ep2_western_era4_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = ep2_western_era3_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = western 
                }
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era4_trigger = yes
                }  
			}
			modifier = {
				add = 50
				OR = {
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = northern 
                }
					portrait_imperial_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = ugro_permian
					}
				}
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era4_trigger = yes
                }  
			}
		}
	  }

	#RTT headgear
	monarchs_journey_late_unlock = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = monarchs_journey_unleashed
				range = { 0 1 } # For the randomness to work correctly
			}
		}

		weight = {
			base = 0
			modifier = {
				add = 10
				current_date >= 1300.1.1
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_western_clothing_spouse_trigger = yes
				}
				OR = {
					AND = {
						is_lowborn = no
						is_female = yes
					}
					AND = {
						government_has_flag = government_is_republic
						highest_held_title_tier <= tier_barony
					}
				}
				trigger_if = {
					limit = {
						is_ruler = yes
					}
					primary_title.tier <= tier_duchy
				}
			}
			modifier = {
				add = 30
				portrait_era4_trigger = yes
                portrait_low_nobles_trigger = {
                    CULTURE_INPUT = western
                }
			}
		}
	}

## Byzantine ##

	byzantine_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = byzantine
                }
			}
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = byzantine
                }
			}
            modifier = {
                factor = 0     
                has_ep3_dlc_trigger = yes   
            }
		}
	}

	ep3_byzantine_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era1_commoner
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = byzantine
                }
				has_ep3_dlc_trigger = yes 
				OR = {
					portrait_era1_trigger = yes 
					portrait_era2_trigger = yes 
				}
			}
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = byzantine
                }
				has_ep3_dlc_trigger = yes 
				OR = {
					portrait_era1_trigger = yes 
					portrait_era2_trigger = yes 
				}
			}
		}
	}

	byzantine_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = byzantine } 
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = byzantine 
                }
			}
            modifier = {
                factor = 0     
                has_ep3_dlc_trigger = yes 
                portrait_era1_trigger = yes   
            }
		}
	}

	ep3_byzantine_era1_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era1_low_nobility 
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = byzantine
		        }
		        has_ep3_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = byzantine 
                }
                has_ep3_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

	ep3_byzantine_era1_bare_headed_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear 
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        has_ep3_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
		        OR = {
	                portrait_low_nobles_clothing_trigger = {  
	                    CULTURE_INPUT = byzantine 
	                }
	                portrait_high_nobles_clothing_trigger = {  
	                    CULTURE_INPUT = byzantine 
	                }
		        }
		        NOR = {
	                portrait_royalty_trigger = {  
	                    CULTURE_INPUT = byzantine 
	                }	
	                portrait_imperial_trigger = {  
	                    CULTURE_INPUT = byzantine 
	                }	        
		        }
		    }
		    modifier = {
		        add = 80
		        has_ep3_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
                portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = byzantine 
                }
		    }
		}
	}

	ep3_byzantine_era2_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era2_low_nobility 
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = byzantine
		        }
		        has_ep3_dlc_trigger = yes 
                OR = {
                    portrait_era2_trigger = yes  
                    portrait_era3_trigger = yes  
                    portrait_era4_trigger = yes  
                }  
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = byzantine 
                }
                has_ep3_dlc_trigger = yes
                OR = {
                    portrait_era2_trigger = yes  
                    portrait_era3_trigger = yes  
                    portrait_era4_trigger = yes  
                }  
			}
		}
	}

	byzantine_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = byzantine
                }   
			}
            modifier = {
                factor = 0 
                has_ep3_dlc_trigger = yes 
                portrait_era1_trigger = yes   
            }
		}
	}

	ep3_byzantine_era1_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era1_high_nobility 
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 10
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = byzantine
                }   
		        has_ep3_dlc_trigger = yes 
                portrait_era1_trigger = yes 
			}
		}
	}

	ep3_byzantine_era2_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era2_high_nobility 
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = byzantine
                }   
		        has_ep3_dlc_trigger = yes 
                OR = {
                    portrait_era2_trigger = yes  
                    portrait_era3_trigger = yes  
                    portrait_era4_trigger = yes  
                }  
			}
		}
	}

	byzantine_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {
                    CULTURE_INPUT = byzantine
                }   
			}
            modifier = {
                factor = 0     
                has_ep3_dlc_trigger = yes 
                portrait_era1_trigger = yes   
            }
		}
	}

	ep3_byzantine_era1_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era1_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 85
                portrait_royalty_trigger = {  
                    CULTURE_INPUT = byzantine 
                }
                has_ep3_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

    ep3_byzantine_era2_royalty = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ep3_byzantine_era2_royalty
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 85
                portrait_royalty_trigger = { 
                    CULTURE_INPUT = byzantine
                }                
                has_ep3_dlc_trigger = yes   
                OR = {
                    portrait_era2_trigger = yes  
                    portrait_era3_trigger = yes  
                    portrait_era4_trigger = yes  
                }     
            }
        }
    }

	byzantine_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_imperial_trigger = {
                    CULTURE_INPUT = byzantine 
                }
			}
            modifier = {
                factor = 0     
                has_ep3_dlc_trigger = yes 
            }
		}
	}

	ep1_byzantine_imperial = { # Crown of Justinian
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep1_byzantine_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_imperial_trigger = {
					CULTURE_INPUT = byzantine 
				}
			}
			#AGOT Disabled
			#modifier = {
			#	factor = 0
			#	NOT = {
			#		has_title = title:e_byzantium
			#	}
			#}
			modifier = {
				factor = 0
				NOT = {
					has_ep1_dlc_trigger = yes
				}
			}
            modifier = {
                factor = 0     
                has_ep3_dlc_trigger = yes 
                OR = {
                	portrait_era3_trigger = yes
                	portrait_era4_trigger = yes 
                }
            }
		}
	}

	ep3_byzantine_era1_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep3_byzantine_era1_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 85
                portrait_imperial_trigger = {  
                    CULTURE_INPUT = byzantine 
                }
                has_ep3_dlc_trigger = yes
                portrait_era1_trigger = yes  
			}
		}
	}

    ep3_byzantine_era2_imperial = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ep3_byzantine_era2_imperial
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 85
                portrait_imperial_trigger = { 
                    CULTURE_INPUT = byzantine
                }                
                has_ep3_dlc_trigger = yes   
                OR = {
                    portrait_era2_trigger = yes  
                    portrait_era3_trigger = yes  
                    portrait_era4_trigger = yes  
                }     
            }
        }
    }

## INDIAN ##

	indian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = indian
                }
			}
			modifier = { # Non-european jesters should not use the jester hat
				add = 1000
				portrait_jester_trigger = {  
                    CULTURE_INPUT = indian 
                }
			}
			modifier = {
				add = 20
				portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = indian 
                }
			}
		}
	}

	indian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = indian } 
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = indian 
                }
			}
		}
	}

	indian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = indian
                }   
			}
		}
	}

	indian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {
                    CULTURE_INPUT = indian
                }   
			}
		}
	}

	ep1_indian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep1_indian_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
	#AGOT Disabled
	# 		modifier = {
	# 			add = 100
	# 			portrait_royalty_trigger = {
	# 				CULTURE_INPUT = indian
	# 			}
	# 			culture = {
	# 				has_cultural_pillar = heritage_burman
	# 			}
	# 			has_ep1_dlc_trigger = yes
	# 		}
			modifier = {
				add = 20000
				has_character_flag = wear_makuta
			}
			modifier = {
				add = 50
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = southeast_asian
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = southeast_asian
					}
				}
			}
			modifier = {
				add = 50
				OR = {
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = southeast_asian
					}
				}
				has_tgp_dlc_trigger = no
			}
		}
	}

	indian_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_imperial_trigger = {
                    CULTURE_INPUT = indian 
                }
			}
		}
	}

	#AGOT Disabled
	# ep1_indian_imperial = {
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = ep1_indian_imperial
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 	}
	# 	weight = {
	# 		base = 0
	# 		modifier = {
	# 			add = 100
    #             portrait_imperial_trigger = {
    #                 CULTURE_INPUT = indian 
    #             }
	# 			culture = {
	# 				has_cultural_pillar = heritage_burman
	# 			}
	# 			has_ep1_dlc_trigger = yes
	# 		}
	# 	}
	# }

## MENA ##

	mena_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = mena
                }
			}
			modifier = { # Non-european jesters should not use the jester hat
				add = 1000
                portrait_jester_trigger = {  
                    CULTURE_INPUT = mena 
                }
			}
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = mena
                }
			}
			modifier = {
				add = -36 # Slightly lower if north african is valid
				portrait_commoner_clothing_trigger = { 
					CULTURE_INPUT = afr_berber
				}
			}
		}
	}

	mena_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				portrait_mayor_headgear_trigger = {
					CULTURE_INPUT = mena
				}
			}
			modifier = {
				add = -36 # Slightly lower if north african is valid
				portrait_mayor_headgear_trigger = { 
					CULTURE_INPUT = afr_berber
				}
			}
		}
	}

	mena_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = mena } 
			modifier = {
				add = {
					value = 50
					if = {
						limit = {
				OR = {
					portrait_low_nobles_clothing_trigger = { 
						CULTURE_INPUT = fp3_iranian
					}
					portrait_low_nobles_clothing_trigger = { 
						CULTURE_INPUT = afr_berber
					}
				}
			}
						add = -36 # Slightly lower if iranian or north african is valid
					}
				}
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = mena
                }
			}
		}
	}

	mena_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = mena
                }   
			}
			modifier = {
				add = -36 # Slightly lower if iranian or north african is valid
				OR = {
					portrait_high_nobles_headgear_trigger = { 
						CULTURE_INPUT = fp3_iranian
					}
					portrait_high_nobles_headgear_trigger = { 
						CULTURE_INPUT = afr_berber
					}
				}
			}
		}
	}

	mena_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {
                    CULTURE_INPUT = mena
                }   
			}
			modifier = {
				add = -36 # Slightly lower if iranian or north african is valid
				OR = {
					portrait_royalty_trigger = { 
						CULTURE_INPUT = fp3_iranian
					}
					portrait_royalty_trigger = { 
						CULTURE_INPUT = afr_berber
					}
				}
			}
		}
	}

	#AGOT Disabled
	# ep1_mena_royalty = {
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = ep1_mena_royalty
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 	}		
	# 	weight = {
	# 		base = 0
	# 		modifier = {
	# 			add = 100
    #             portrait_royalty_trigger = {
    #                 CULTURE_INPUT = mena 
    #             }
	# 			culture = {
	# 				has_cultural_pillar = heritage_east_african
	# 			}
	# 			religion = religion:islam_religion
	# 			has_ep1_dlc_trigger = yes
	# 		}
	# 	}
	# }

	mena_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_imperial_nobles_headgear_trigger = {
                    CULTURE_INPUT = mena 
                }
			}
			modifier = {
				add = -36 # Slightly lower if iranian or north african is valid
				OR = {
					portrait_imperial_nobles_headgear_trigger = { 
						CULTURE_INPUT = fp3_iranian
					}
					portrait_imperial_nobles_headgear_trigger = { 
						CULTURE_INPUT = afr_berber
					}
				}
			}
		}
	}

	#AGOT Disabled
	# ep1_persian_imperial = {
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = ep1_persian_imperial
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 	}	
	# 	weight = {
	# 		base = 0
	# 		modifier = {
	# 			add = 50
    #             portrait_imperial_nobles_headgear_trigger = {
    #                 CULTURE_INPUT = mena 
    #             }
    #             culture = {
    #                 has_cultural_pillar = heritage_iranian
    #             }
    #             has_ep1_dlc_trigger = yes
	# 		}
	# 	}
	# }

## DDE ABBASID ##

	dde_abbasid_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = dde_abbasid
                }
			}
			modifier = {
				add = -36 # Slightly lower if north african is valid
				portrait_commoner_clothing_trigger = { 
					CULTURE_INPUT = afr_berber
				}
			}
		}
	}

	dde_abbasid_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = dde_abbasid
                } 
			}
			modifier = {
				add = -36 # Slightly lower if iranian or north african is valid
				OR = {
					portrait_high_nobles_headgear_trigger = { 
						CULTURE_INPUT = fp3_iranian
					}
					portrait_high_nobles_headgear_trigger = { 
						CULTURE_INPUT = afr_berber
					}
				}
			}
		}
	}

	dde_abbasid_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {
                    CULTURE_INPUT = dde_abbasid
                }  
			}
			modifier = {
				add = -36 # Slightly lower if north african is valid
				portrait_royalty_trigger = { 
					CULTURE_INPUT = afr_berber
				}
			}
			#modifier = {
			#	add = -36 # Slightly lower if iranian is valid
			#	portrait_royalty_trigger = { 
			#		CULTURE_INPUT = fp3_iranian
			#	}
			#}
		}
	}

	dde_abbasid_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100 # pick over mena
                portrait_imperial_trigger = {
                    CULTURE_INPUT = dde_abbasid 
                }
			}
			modifier = {
				add = -56 # Slightly lower if iranian or north african is valid
				OR = {
					portrait_imperial_trigger = { 
						CULTURE_INPUT = fp3_iranian
					}
					portrait_imperial_trigger = { 
						CULTURE_INPUT = afr_berber
					}
				}
			}
		}
	}

## Steppe ##

	steppe_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = steppe
                }
			}
			modifier = { # Non-european jesters should not use the jester hat
				add = 1000
                portrait_jester_trigger = {  
                    CULTURE_INPUT = steppe 
                }
				NOR = {
					portrait_western_clothing_trigger = yes
					portrait_byzantine_clothing_trigger = yes
					portrait_northern_clothing_trigger = yes
				}
			}
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = steppe 
                }
			}
		}
	}

	mpo_mongol_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mpo_mongol_commoner
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 20
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = steppe
				}
				has_mpo_dlc_trigger = yes
			}
		}
	}

	steppe_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = steppe } 
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = steppe
                }
			}
		}
	}

	mpo_mongol_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mpo_mongol_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = steppe }
			modifier = {
				add = 50
				portrait_low_nobles_clothing_trigger = {
					CULTURE_INPUT = steppe
				}
				has_mpo_dlc_trigger = yes
			}
			modifier = {
				add = -50
				portrait_low_nobles_clothing_trigger = {
					CULTURE_INPUT = fp3_turkic
				}
			}
		}
	}

	steppe_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = steppe
                }   
				NOR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = steppe
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = steppe
					}
				}
			}
		}
	}

	steppe_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = steppe
					}   
					portrait_royalty_trigger = {
						CULTURE_INPUT = steppe
					}   
				}
			}
			modifier = {
				add = -10
				has_mpo_dlc_trigger = yes
			}
		}
	}

	ep1_steppe_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep1_steppe_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                OR = {
					portrait_imperial_trigger = {
						CULTURE_INPUT = steppe
					}   
					portrait_royalty_trigger = {
						CULTURE_INPUT = steppe
					}   
				}
			}
			modifier = {
				factor = 0
				NOR = {
					has_ep1_dlc_trigger = yes
					has_mpo_dlc_trigger = yes
				}
			}
		}
	}

	mpo_mongol_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mpo_mongol_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 85
				portrait_royalty_trigger = {
					CULTURE_INPUT = steppe
				}
				has_mpo_dlc_trigger = yes
			}
		}
	}

	mpo_mongol_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mpo_mongol_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 85
				portrait_imperial_trigger = {
					CULTURE_INPUT = steppe
				}
				has_mpo_dlc_trigger = yes
			}
			modifier = {
				add = -85
				portrait_imperial_trigger = {
					CULTURE_INPUT = fp3_turkic
				}
				has_mpo_dlc_trigger = yes
			}
		}
	}



## Northern Pagans ##

	northern_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 70
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = northern
                }
			}
			modifier = {
				add = 30
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = northern
                }
			}
		}
	}

	northern_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = northern } 
			modifier = {
				add = 50
	                portrait_low_nobles_clothing_trigger = {
	                    CULTURE_INPUT = northern
	                }
				}
			}
		}

	northern_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = northern
                }   
			}
		}
	}

	northern_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
                portrait_royalty_trigger = {
                    CULTURE_INPUT = northern
                }
					portrait_royalty_trigger = {
						CULTURE_INPUT = sami
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = ugro_permian
					}
				}
			}
		}
	}

## AFR ##

	afr_berber_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = afr_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = afr_berber
                }
			}
			modifier = {
				add = 21
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = afr_berber
                }
			}
		}
	}

	afr_berber_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = afr_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = afr_berber } 
			modifier = {
				add = 51
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = afr_berber
                }
			}
		}
	}

	afr_berber_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = afr_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = afr_berber
                }   
			}
		}
	}

	afr_berber_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = afr_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
                portrait_royalty_trigger = {
                    CULTURE_INPUT = afr_berber
                }   
			}
		}
	}

	afr_berber_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = afr_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 51
                portrait_imperial_nobles_headgear_trigger = {
                    CULTURE_INPUT = afr_berber 
                }
			}
		}
	}

## POL ##

	pol_west_slavic_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pol_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 90
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = west_slavic
                }
			}
			modifier = {
				add = 30
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = west_slavic
                }
			}
		}
	}

	pol_west_slavic_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pol_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = west_slavic } 
			modifier = {
				add = 80
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = west_slavic
                }
			}
		}
	}

	pol_west_slavic_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pol_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = west_slavic
                }
			}
		}
	}

	pol_west_slavic_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pol_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = western_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_royalty_trigger = {
                    CULTURE_INPUT = west_slavic
                }
			}
			modifier = {
				factor = 0
                has_sp4_dlc_trigger = yes
                OR = {
                    portrait_era1_trigger = yes   
                    portrait_era2_trigger = yes   
                }                  
			}
		}
	}

	pol_west_slavic_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pol_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = { # Can be combined with veils
				mode = add
				gene = additive_headgear
				template = western_veils
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_imperial_trigger = {
                    CULTURE_INPUT = west_slavic 
                }
			}
		}
	}

## CCP4 Sami ##

ccp4_sami_commoners = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = ccp4_sami_common
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 90
			portrait_commoner_headgear_fallback_trigger = {
				CULTURE_INPUT = sami
			}
		}
		modifier = {
			add = 30
			portrait_commoner_clothing_trigger = {
				CULTURE_INPUT = sami
			}
		}
	}
}

ccp4_sami_low_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = ccp4_sami_low_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = sami } 
		modifier = {
			add = 80
			portrait_low_nobles_clothing_trigger = {
				CULTURE_INPUT = sami
			}
		}
	}
}

ccp4_sami_high_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = ccp4_sami_high_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 80
			portrait_high_nobles_headgear_trigger = {
				CULTURE_INPUT = sami
			}
		}
	}
}

## CCP4 Khanty ##

ccp4_ugro_permian_commoners = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = ccp4_khanty_common
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 90
			portrait_commoner_headgear_fallback_trigger = {
				CULTURE_INPUT = ugro_permian
			}
		}
		modifier = {
			add = 30
			portrait_commoner_clothing_trigger = {
				CULTURE_INPUT = ugro_permian
			}
		}
	}
}

ccp4_ugro_permian_low_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = ccp4_khanty_low_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = ugro_permian } 
		modifier = {
			add = 80
			portrait_low_nobles_clothing_trigger = {
				CULTURE_INPUT = ugro_permian
			}
		}
	}
}

ccp4_ugro_permian_high_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = ccp4_khanty_high_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 80
			portrait_high_nobles_headgear_trigger = {
				CULTURE_INPUT = ugro_permian
			}
		}
	}
}	

## FP3 Iranian ##

fp3_iranian_low_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = fp3_iranian_low_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = fp3_iranian } 
		modifier = {
			add = 51 # Slightly higher
			portrait_low_nobles_clothing_trigger = {
				CULTURE_INPUT = fp3_iranian
			}
		}
	}
}

fp3_iranian_high_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = fp3_iranian_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 51 # Slightly higher
			portrait_high_nobles_headgear_trigger = {
				CULTURE_INPUT = fp3_iranian
			}   
		}
	}
}

fp3_iranian_royalty = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = fp3_iranian_royalty
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 51 # Slightly higher
			OR = {
			portrait_royalty_trigger = {
				CULTURE_INPUT = fp3_iranian
			}   
				portrait_royalty_trigger = {
					CULTURE_INPUT = fp3_turkic
				}
			}
		}
	}
}

fp3_iranian_imperial = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = fp3_iranian_imperial
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 51 # Slightly higher
			OR = {
			portrait_imperial_trigger = {
				CULTURE_INPUT = fp3_iranian
			}   
				portrait_imperial_trigger = {
					CULTURE_INPUT = fp3_turkic
				}
			}
		}
	}
}

## FP3 Turkic ##

fp3_turkic_low_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = fp3_turkic_low_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = fp3_turkic } 
		modifier = {
			add = 51 # Slightly higher
			portrait_low_nobles_clothing_trigger = {
				CULTURE_INPUT = fp3_turkic
			}
		}
	}
}

fp3_turkic_high_nobles = {
	dna_modifiers = {
		accessory = {
			mode = add
			gene = headgear
			template = fp3_turkic_nobility
			range = { 0 1 } # For the randomness to work correctly
		}
	}
	weight = {
		base = 0
		modifier = {
			add = 51 # Slightly higher
			portrait_high_nobles_headgear_trigger = {
				CULTURE_INPUT = fp3_turkic
			}   
		}
	}
}

## FP2 Iberian ##
	fp2_iberian_muslim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_muslim_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = fp2_iberian_muslim
                }
			}
			modifier = {
				add = 41 # Slightly higher
				portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = fp2_iberian_muslim
                }
			}
		}
	}

	fp2_iberian_muslim_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_muslim_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = fp2_iberian_muslim } 
			modifier = {
				add = 51 # Slightly higher
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = fp2_iberian_muslim
                }
			}
		}
	}

	fp2_iberian_muslim_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_muslim_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51 # Slightly higher
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = fp2_iberian_muslim
                }   
			}
		}
	}

	fp2_iberian_muslim_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_muslim_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51 # Slightly higher
                portrait_royalty_trigger = {
                    CULTURE_INPUT = fp2_iberian_muslim
                }  
			}
		}
	}

	fp2_iberian_christian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_christian_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		outfit_tags = { iberian_christian_shrimp_wrap }
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = fp2_iberian_christian
                }
			}
			modifier = {
				add = 41 # Slightly higher
                portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = fp2_iberian_christian 
                }
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes
            }
		}
	}

	fp2_iberian_christian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_christian_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = fp2_iberian_christian } 
			modifier = {
				add = 60 # Slightly higher
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = fp2_iberian_christian
                }
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes 
            }
		}
	}

	fp2_iberian_christian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_christian_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 60 # Slightly higher
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = fp2_iberian_christian
                } 
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes 
            }
		}
	}

	fp2_iberian_christian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp2_christian_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51 # Slightly higher
                portrait_royalty_trigger = {
                    CULTURE_INPUT = fp2_iberian_christian
                }  
			}
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes 
            }
		}
	}

## FP1 NORSE ##

	fp1_norse_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp1_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = fp1_norse
                }
			}
			modifier = {
				add = 41 # Slightly higher
                portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = fp1_norse 
                }
			}
		}
	}

	fp1_norse_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp1_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = fp1_norse } 
			modifier = {
				add = 51 # Slightly higher
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = fp1_norse
                }
			}
		}
	}

	fp1_norse_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp1_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51 # Slightly higher
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = fp1_norse
                }   
			}
		}
	}

	fp1_norse_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp1_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51 # Slightly higher
				OR = {
					AND = {
						has_dlc_feature = the_northern_lords
		                portrait_royalty_trigger = {
		                    CULTURE_INPUT = northern
		                } 
					}
	                portrait_royalty_trigger = {
	                    CULTURE_INPUT = fp1_norse
	                } 	                
				}  
			}
		}
	}

	fp1_norse_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = fp1_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100 # pick over northern
				OR = {
					AND = {
						has_dlc_feature = the_northern_lords
		                portrait_imperial_trigger = {
		                    CULTURE_INPUT = northern
		                } 
					}
	                portrait_imperial_trigger = {
	                    CULTURE_INPUT = fp1_norse
	                } 	                
				}
			}
		}
	}

## Sub-Saharan Africans ##

	african_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = african
                }
			}
			modifier = { # Non-european jesters should not use the jester hat
				add = 1000
                portrait_jester_trigger = {  
                    CULTURE_INPUT = african 
                }
			}
			modifier = {
				add = 50
                portrait_commoner_clothing_trigger = {  
                    CULTURE_INPUT = african 
                }
			}
		}
	}

	sub_saharan_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = african
                }   
			}
		}
	}

	sub_saharan_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_african_headgear_trigger = yes
			}
		}
	}

	ep1_sub_saharan_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep1_sub_saharan_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_african_headgear_trigger = yes
			}
			modifier = {
				factor = 0
				NOT = {
					has_ep1_dlc_trigger = yes
				}
			}
		}
	}

	sub_saharan_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_imperial_nobles_headgear_trigger = {
					CULTURE_INPUT = african
				}
			}
		}
	}


	sub_saharan_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		outfit_tags = { military_outfit }
		weight = {
			base = 0
			modifier = {
				add = 100
                portrait_war_nobles_helmet_trigger = {
                    CULTURE_INPUT = african
                }
			}
		}
	}

	jester_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add

				gene = headgear
				template = ep1_jester
				range = { 0 1 }
			}
		}
		outfit_tags = { jester_outfit }
		weight = {
			base = -100
			modifier = {
				add = 1000
				OR = {
					portrait_jester_trigger = { CULTURE_INPUT = western }
					portrait_jester_trigger = { CULTURE_INPUT = byzantine }
					portrait_jester_trigger = { CULTURE_INPUT = northern }
				}				
			}
			modifier = {
				factor = 0
				OR = {
					is_adult = no
					should_be_naked_trigger = yes
				}
			}
		}
	}

	master_assassin_headgear = {
	    dna_modifiers = {
			accessory = {
				mode = add

				gene = headgear
				template = mena_stealth
				range = { 0 1 }
			}
		}
	    weight = {
			base = -100
			modifier = {
				add = 1000
				has_court_position = master_assassin_court_position
			}
			modifier = {
				factor = 0
				OR = {
					is_adult = no
					should_be_naked_trigger = yes
				}
			}			
		}
	}

	#RTT headgear
	monarchs_journey_late_unlock = {
		dna_modifiers = {
			accessory = {
				mode = add

				gene = headgear
				template = monarchs_journey_unleashed
				range = { 0 1 } # For the randomness to work correctly
			}
		}

		weight = {
			base = -100
			modifier = {
				add = 110
				current_date >= 1300.1.1
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_western_clothing_spouse_trigger = yes
				}
				OR = {
					AND = {
						is_lowborn = no
						is_female = yes
					}
					AND = {
						government_has_flag = government_is_republic
						highest_held_title_tier <= tier_barony
					}
				}
			}
		}
	}
	
	#AGOT Disabled
	# hajj_headgear = {
	# 	dna_modifiers = {
	# 		accessory = {
	# 			mode = add
	# 			gene = headgear
	# 			template = mena_common
	# 			range = { 0 1 } # For the randomness to work correctly
	# 		}
	# 	}	
	# 	weight = {
	# 		base = 0
	# 		modifier = {
	# 			add = 500
	# 			exists = this
	# 			OR = {
	# 				portrait_ep2_hajj_clothes_trigger = yes
	# 				portrait_ep2_ihram_clothes_trigger = yes
	# 			}
	# 		}
	# 	}
	# }

	# EP2 - WEDDINGS

	wedding_western_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_wedding
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		outfit_tags = { spouse_outfit }
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_ep2_dlc_trigger = yes
				portrait_ep2_wedding_clothes_trigger = yes
				OR = {
					portrait_western_clothing_trigger = yes
					portrait_northern_clothing_trigger = yes
				}
			}
		}
	}

	wedding_mena_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_wedding
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		outfit_tags = { spouse_outfit }
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_ep2_dlc_trigger = yes
				portrait_ep2_wedding_clothes_trigger = yes
				OR = {
					portrait_mena_clothing_trigger = yes
					portrait_african_clothing_trigger = yes
					portrait_indian_clothing_trigger = yes
					portrait_steppe_clothing_trigger = yes
				}
			}
		}
	}

	wedding_byz_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_wedding
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		outfit_tags = { spouse_outfit }
		weight = {
			base = 0
			modifier = {
				add = 1000
				has_ep2_dlc_trigger = yes
				portrait_ep2_wedding_clothes_trigger = yes
				portrait_byzantine_clothing_trigger = yes
			}
		}
	}

	## TGP - Chinese ##

	chinese_commoner_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_commoner
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = chinese
				}
				has_tgp_dlc_trigger = yes
			}
			modifier = {
				add = 21
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = chinese
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	chinese_nobility_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era1_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = chinese }
			modifier = {
				add = 50
				is_merit_based_official = no
				portrait_low_nobles_clothing_trigger = {
					CULTURE_INPUT = chinese
				}
				has_tgp_dlc_trigger = yes
				#AGOT Disabled
				# NOT = { exists = global_var:chinese_fashion_change }
			}
		}
	}

	chinese_family_head_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era2_nobility
				accessory = m_headgear_sec_tgp_chinese_nob_01
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				is_ruler = yes
				is_landed = no
				highest_held_title_tier <= tier_duchy
				is_house_head = yes
				OR = {
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = chinese
					}
					portrait_high_nobles_clothing_trigger = {
						CULTURE_INPUT = chinese
					}
				}
				has_tgp_dlc_trigger = yes
				#AGOT Disabled
				# exists = global_var:chinese_fashion_change
			}
		}
	}
	
	chinese_low_nobility_headgear_tang = { # Intentionally included as free content
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era1_nobility
				accessory = m_headgear_sec_tgp_chinese_hi_nob_01
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_merit_based_official = yes
				OR = {
					liege.culture = {
						has_clothing_gfx = chinese_clothing_gfx
						NOT = { has_clothing_gfx = korean_clothing_gfx }
					}
					culture = {
						has_clothing_gfx = chinese_clothing_gfx
						NOT = { has_clothing_gfx = korean_clothing_gfx }
					}
				}
				#AGOT Disabled
				# NOT = { exists = global_var:chinese_fashion_change }
			}
		}
	}

	chinese_low_nobility_headgear_song = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era2_nobility
				accessory = m_headgear_sec_tgp_chinese_nob_02
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_merit_based_official = yes
				OR = {
					liege.culture = {
						has_clothing_gfx = chinese_clothing_gfx
						NOT = { has_clothing_gfx = korean_clothing_gfx }
					}
					culture = {
						has_clothing_gfx = chinese_clothing_gfx
						NOT = { has_clothing_gfx = korean_clothing_gfx }
					}
				}
				has_tgp_dlc_trigger = yes
				#AGOT Disabled
				# exists = global_var:chinese_fashion_change
			}
		}
	}

	chinese_nobility_headgear_no_dlc = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era1_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = chinese }
			modifier = {
				add = 51
				OR = {
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = chinese
					}
					portrait_high_nobles_clothing_trigger = {
						CULTURE_INPUT = chinese
					}
				}
				has_tgp_dlc_trigger = no
			}
		}
	}

	chinese_high_nobility_headgear_tang = { # Intentionally included as free content
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era1_nobility
				accessory = m_headgear_sec_tgp_chinese_hi_nob_01
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				is_merit_based_official = yes
				OR = {
					liege.culture = {
						has_clothing_gfx = chinese_clothing_gfx
					}
					culture = {
						has_clothing_gfx = chinese_clothing_gfx
					}
				}
				#AGOT Disabled
				# NOT = { exists = global_var:chinese_fashion_change }
			}
		}
	}

	chinese_high_nobility_headgear_song = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era2_nobility
				accessory = m_headgear_sec_tgp_chinese_nob_02
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				is_merit_based_official = yes
				OR = {
					liege.culture = {
						has_clothing_gfx = chinese_clothing_gfx
						NOT = { has_clothing_gfx = korean_clothing_gfx }
					}
					culture = {
						has_clothing_gfx = chinese_clothing_gfx
						NOT = { has_clothing_gfx = korean_clothing_gfx }
					}
				}
				has_tgp_dlc_trigger = yes
				#AGOT Disabled
				# exists = global_var:chinese_fashion_change
			}
		}
	}

	chinese_royalty_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_royalty_trigger = {
					CULTURE_INPUT = chinese
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	chinese_adjacent_royalty_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_royalty
				accessory = m_headgear_sec_tgp_chinese_roy_01
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				is_independent_ruler = yes
				government_has_flag = government_has_merit
				NOT = {
					government_has_flag = government_is_celestial
				}
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = chinese
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = korean
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = viet
					}
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	chinese_adjacent_royalty_headgear_era_2 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_imperial
				accessory = m_headgear_sec_tgp_chinese_imp_02
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				is_independent_ruler = yes
				government_has_flag = government_has_merit
				NOT = {
					government_has_flag = government_is_celestial
				}
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = chinese
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = korean
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = viet
					}
				}
				has_tgp_dlc_trigger = yes
				#AGOT Disabled
				# exists = global_var:chinese_fashion_change
			}
		}
	}

	chinese_adjacent_imperial_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_imperial
				accessory = m_headgear_sec_tgp_chinese_imp_02
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				is_independent_ruler = yes
				highest_held_title_tier = tier_empire
				government_has_flag = government_has_merit
				NOT = {
					government_has_flag = government_is_celestial
				}
				OR = {
					portrait_royalty_trigger = {
						CULTURE_INPUT = chinese
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = korean
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = viet
					}
				}
				has_tgp_dlc_trigger = yes
				#AGOT Disabled
				# exists = global_var:chinese_fashion_change
			}
		}
	}
	
	chinese_imperial_headgear_tang = { # Intentionally included as free content
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_imperial
				accessory = m_headgear_sec_tgp_chinese_imp_02
			}
		}
		weight = {
			base = 0
			#AGOT Disabled
			# modifier = {
			# 	add = 110
			# 	primary_title ?= title:h_china
			# 	NOT = { exists = global_var:chinese_fashion_change }
			# }
			modifier = {
				add = 100
				OR = {
					AND = {
						portrait_imperial_trigger = {
							CULTURE_INPUT = chinese
						}
						NOT = { 
							culture = { has_clothing_gfx = korean_clothing_gfx } 
						}
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = korean
					}
					AND = {
						portrait_royalty_trigger = {
							CULTURE_INPUT = chinese
						}
						is_independent_ruler = yes
					}
				}
				#AGOT Disabled
				# NOT = { primary_title ?= title:h_china }
			}
			modifier = {
				add = 110
				OR = {
					#AGOT Disabled
					# primary_title ?= title:h_china
					portrait_imperial_nobles_headgear_trigger = {
						CULTURE_INPUT = korean
					}
				}
				has_tgp_dlc_trigger = no
			}
		}
	} 

	chinese_imperial_headgear_song = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_chinese_era2_imperial
				accessory = m_headgear_sec_tgp_chinese_imp_01
			}
		}
		weight = {
			base = 0
			#AGOT Disabled
			# modifier = {
			# 	add = 110
			# 	primary_title ?= title:h_china
			# 	has_tgp_dlc_trigger = yes
			# 	exists = global_var:chinese_fashion_change
			# }
		}
	} 

	## TGP - Japanese ##

	tgp_japanese_commoner_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_japanese_commoner
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = japanese
				}
				has_tgp_dlc_trigger = yes
			}
			modifier = {
				add = 21
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = japanese
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	tgp_japanese_low_nobility_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_japanese_nobility
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				portrait_low_nobles_clothing_trigger = {
					CULTURE_INPUT = japanese
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	tgp_japanese_high_nobility_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_japanese_high_nobility
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				portrait_high_nobles_headgear_trigger = {
					CULTURE_INPUT = japanese
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	japanese_royalty_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_japanese_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				portrait_royalty_trigger = {
					CULTURE_INPUT = japanese
				}
				has_tgp_dlc_trigger = yes
			}
			modifier = {
				add = 1000
				has_tgp_dlc_trigger = yes
				is_adult = yes
				culture = { has_clothing_gfx = japanese_clothing_gfx }
				tgp_is_in_ceremonial_house_trigger = yes
				top_liege.primary_title.var:administrative_ui_special_title.current_heir ?= this
			}
		}
	}

	japanese_shogun_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_japanese_shogun
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 151
				government_is_japanese_trigger = yes
				OR = {
					tgp_is_ceremonial_regent_trigger = yes # Not 'actual' ruler
					trigger_if = {
						limit = { exists = top_liege }
						is_councillor_of = top_liege
					}
					AND = {
						is_house_head = yes
						is_landed = yes
						liege = top_liege
						has_same_government = top_liege
						trigger_if = {
							limit = { exists = top_liege }
							is_councillor_of = top_liege
						}
						trigger_else = { always = no }
					}
				}
				NOT = { tgp_is_ceremonial_liege_trigger = yes }
				has_tgp_dlc_trigger = yes
			}
		}
	}

	japanese_imperial_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_japanese_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				portrait_imperial_nobles_headgear_trigger = {
					CULTURE_INPUT = japanese
				}
				has_tgp_dlc_trigger = yes
			}
			#AGOT Disabled
			# modifier = {
			# 	add = 1000
			# 	has_title = title:k_chrysanthemum_throne
			# 	portrait_imperial_nobles_headgear_trigger = {
			# 		CULTURE_INPUT = japanese
			# 	}
			# }
		}
	}   

	## TGP - Korean ##

	tgp_korean_nobility_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_korean_nobility
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				is_merit_based_official = yes
				OR = {
					portrait_low_nobles_clothing_trigger = {
						CULTURE_INPUT = korean
					}
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = korean
					}
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}

	korean_imperial_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_korean_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				portrait_imperial_nobles_headgear_trigger = {
					CULTURE_INPUT = korean
				}
				has_tgp_dlc_trigger = yes
			}
		}
	}  

	## TGP - Khmer ##

	tgp_khmer_low_nobility_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_southeast_nobility
				range = { 0 1 }
			}
			
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				OR = {
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = southeast_asian
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = southeast_asian
					}
					portrait_imperial_trigger = {
						CULTURE_INPUT = southeast_asian
					}
				}
				has_tgp_dlc_trigger = yes
				has_ep2_dlc_trigger = yes
			}
		}
	}

	tgp_khmer_high_nobility_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_southeast_nobility
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				has_tgp_dlc_trigger = yes
				trigger_if = {
					limit = { has_ep2_dlc_trigger = yes }
					OR = {
						portrait_high_nobles_headgear_trigger = {
							CULTURE_INPUT = southeast_asian
						}
						portrait_royalty_trigger = {
							CULTURE_INPUT = southeast_asian
						}
					}
				}
				trigger_else = {
					OR = {
						portrait_high_nobles_headgear_trigger = {
							CULTURE_INPUT = southeast_asian
						}
						portrait_royalty_trigger = {
							CULTURE_INPUT = southeast_asian
						}
						portrait_imperial_trigger = {
							CULTURE_INPUT = southeast_asian
						}
					}
				}
			}
		}
	}

	tgp_khmer_royal_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_southeast_royal
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 51
				has_tgp_dlc_trigger = yes
				has_ep2_dlc_trigger = yes
				OR = {
					portrait_high_nobles_headgear_trigger = {
						CULTURE_INPUT = southeast_asian
					}
					portrait_royalty_trigger = {
						CULTURE_INPUT = southeast_asian
					}
				}
			}
		}
	}

	tgp_khmer_imperial_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_southeast_imperial
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 200
				has_tgp_dlc_trigger = yes
				has_ep2_dlc_trigger = yes
				portrait_imperial_trigger = {
					CULTURE_INPUT = southeast_asian
				}
			}
		}
	}

	## TGP - Ainu ##

	tgp_ainu_commoner_headgear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = tgp_ainu_commoner
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 200
				has_tgp_dlc_trigger = yes
				portrait_ainu_clothing_trigger = yes
			}
		}
	}

	#####################################
	### AGOT HEADGEAR MODIFIERS START ###
	#####################################

	# No Crowns in Westeros
	agot_headgear_no_crowns = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0 1 }
			}
		}
		weight = {
			base = 400
			modifier = {
				factor = 0
				agot_default_wear_crown_trigger = yes
			}
		}
	}

	#Vanilla Crown For Valyrian Spouses
	agot_headgear_valyrian_spouse_crown = {
		dna_modifiers = {
			accessory = {
			mode = add
				gene = headgear
				template = western_high_nobility
				value = 1
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				primary_spouse ?= {
					primary_title.tier = tier_hegemony
					dynasty ?= dynasty:dynn_Targaryen
					culture = { has_cultural_pillar = heritage_valyrian }
				}
			}
		}
	}

	agot_headgear_first_man_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_first_men
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 230
				agot_default_wear_crown_trigger = yes
				culture = { has_cultural_pillar = heritage_first_man }
			}
		}
	}

	agot_headgear_the_andals_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_andals
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 230
				agot_default_wear_crown_trigger = yes
				culture = { has_cultural_pillar = heritage_andal }
			}
		}
	}

	agot_headgear_the_andals_silver_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_andals_silver
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 230
				agot_default_wear_crown_trigger = yes
				culture = { has_cultural_pillar = heritage_andal }
			}
		}
	}

	agot_headgear_flower_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = florealcrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 800
				is_character_targaryen_hh_10 = yes
			}
		}
	}

##########################
### AGOT CUSTOM CROWNS ###
##########################

	agot_headgear_renly_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = renlycrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				agot_default_wear_crown_trigger = yes
				is_character_baratheon_4 = yes # Renly Baratheon
				OR = {
					AND = {
						exists = character:Tyrell_13
						has_relation_lover = character:Tyrell_13
					}
					AND = {
						exists = primary_spouse
						primary_spouse.dynasty ?= dynasty:dynn_Tyrell
					}
				}
			}
		}
	}

	agot_headgear_stannis_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = stanniscrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				agot_default_wear_crown_trigger = yes
				is_character_baratheon_3 = yes
				has_religion = religion:the_rhllor_religion
			}
		}
	}

	agot_headgear_beyondthewall_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = beyondthewallcrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 240
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = beyondthewall_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				portrait_wildling_clothing_trigger = yes
			}
		}
	}

	agot_headgear_stark_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crownofwinter
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_winter_artifact } }
				agot_default_wear_crown_trigger = yes
				house ?= dynasty:dynn_Stark.dynasty_founder.house
			}
		}
	}

	agot_headgear_bolton_skin_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = bolton_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = bolton_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Bolton
			}
		}
	}

	agot_headgear_riverlands_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = riverlandscrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = riverlands_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				culture = culture:riverman_main
			}
		}
	}

	agot_headgear_ironborn_crowns = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = iron_isles_crowns
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				agot_default_wear_crown_trigger = yes
				portrait_ironborn_clothing_trigger = yes
			}
		}
	}

	agot_headgear_iron_isles_crowns = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = iron_isles_crowns
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 265
				agot_default_wear_crown_trigger = yes
				portrait_ironborn_clothing_trigger = yes
					primary_title = title:e_the_iron_islands
				}
			}
		}

	agot_headgear_westerlander_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = westerlander2_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				agot_default_wear_crown_trigger = yes
				culture = culture:westerman_main
			}
		}
	}

	agot_headgear_lannister_crowns = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = westerlands_crowns
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Lannister
			}
		}
	}

	agot_headgear_stormlander_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = stormlander_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				agot_default_wear_crown_trigger = yes
				culture = culture:stormlander_main
			}
		}
	}

	agot_headgear_stormlands_dynasty_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = stormlandscrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = stormlands_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				OR = {
					dynasty ?= dynasty:dynn_Durrandon
					dynasty ?= dynasty:dynn_Baratheon
				}
			}
		}
	}

	agot_headgear_valeman_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = valeman_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = valeman_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				OR = {
					culture = culture:valeman_upper
					culture = culture:valeman_main
					culture = culture:valeman_finger
				}
			}
		}
	}

	agot_headgear_arryn_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = falcon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = falcon_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Arryn
			}
		}
	}

	agot_headgear_reach_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = reachman_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = reachman_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				OR = {
					culture = culture:reachman
					culture = culture:shieldman
					culture = culture:vineman
					culture = culture:honeywiner
				}
			}
		}
	}

	agot_headgear_tyrell_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = reach_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = reach_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Tyrell
			}
		}
	}

	agot_headgear_tully_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = tully_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = tully_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Tully
			}
		}
	}

	agot_headgear_umber_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = umber_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = umber_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Umber
			}
		}
	}

	agot_headgear_dustin_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = dustin_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = dustin_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Dustin
			}
		}
	}

	agot_headgear_manderly_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = manderly_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = manderly_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Manderly
			}
		}
	}

	agot_headgear_royce_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = royce_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = royce_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Royce
			}
		}
	}

	agot_headgear_blackwood_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = blackwood_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = blackwood_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Blackwood
			}
		}
	}

	agot_headgear_frey_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = frey_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = frey_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Frey
			}
		}
	}

	agot_headgear_cargyll_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = cargyll_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = cargyll_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Cargyll
			}
		}
	}

	agot_headgear_redwyne_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = redwyne_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = redwyne_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Redwyne
			}
		}
	}

	agot_headgear_tarly_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = tarly_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = tarly_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Tarly
			}
		}
	}

	agot_headgear_hightower_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = hightower_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = hightower_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Hightower
			}
		}
	}

	agot_headgear_florent_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = florent_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = florent_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Florent
			}
		}
	}

	agot_headgear_greyjoy_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = greyjoy_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = greyjoy_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Greyjoy
			}
		}
	}

	agot_headgear_tarth_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = tarth_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = tarth_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Tarth
			}
		}
	}

	agot_headgear_swann_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = swann_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = swann_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Swann
			}
		}
	}

	dornish_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = dornish_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				exists = this
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = dornish_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				culture = {
					OR = {
						this = culture:stone_dornish
						has_cultural_pillar = heritage_rhoynar
					}
				}
			}
		}
	}

	martell_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = dornecrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				exists = this
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = dorne_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				AND = {
					dynasty ?= dynasty:dynn_Martell
					primary_title.tier >= tier_kingdom
				}
			}
		}
	}

	agot_headgear_dayne_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = dayne_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = dayne_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Dayne
			}
		}
	}

	agot_headgear_reed_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = reed_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = reed_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Reed
			}
		}
	}

	agot_headgear_harlaw_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = harlaw_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = harlaw_crown_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Harlaw
			}
		}
	}

	agot_headgear_rhaella_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = rhaellacrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_rhaella_artifact } }
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_2 = yes
			}
		}
	}

	agot_headgear_alysannecrown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = alysannecrown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_alysanne_artifact } }
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_36 = yes
			}
		}
	}

	agot_headgear_visenya_circlet = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = visenya_circlet
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = circlet_visenya_artifact } }
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_28 = yes
			}
		}
	}

	agot_headgear_rhaenys_circlet = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = rhaenys_circlet
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = circlet_rhaenys_artifact } }
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_29 = yes
			}
		}
	}

	agot_headgear_daemon_stepstone_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = daemon_stepstone_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_61 = yes
				has_title = title:k_the_stepstones
			}
		}
	}

	agot_headgear_daemon_queen_stepstone_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = daemon_queen_stepstone_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 265
				agot_default_wear_crown_trigger = yes
				primary_spouse ?= {
					is_character_targaryen_61 = yes
					has_title = title:k_the_stepstones
				}
			}
		}
	}

	agot_headgear_driftwood_crown_1_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = driftwoodcrown1
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 270
				agot_default_wear_crown_trigger = yes
				OR = {
					is_character_greyjoy_5 = yes
					is_character_greyjoy_6 = yes
				}
					primary_title = title:e_the_iron_islands
				}
			}
		}

	agot_headgear_valyrian_crown2 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = valyrian_crown2
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 240
				agot_default_wear_crown_trigger = yes
				culture ?= { has_cultural_pillar = heritage_valyrian }
			}
		}
	}

	agot_headgear_westerosi_valyrian_crown1 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = westerosi_valyrian_crown1
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 250
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Targaryen
				NOT = { house = house:house_Blackfyre }
			}
		}
	}

	agot_headgear_westerosi_valyrian_crown2 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = westerosi_valyrian_crown2
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				agot_default_wear_crown_trigger = yes
				NOT = {
					house = house:house_Blackfyre
				}
				OR = {
					dynasty ?= dynasty:dynn_Essos
					is_character_targaryen_11 = yes
					AND = {
						is_character_stark_7 = yes
						dynasty ?= dynasty:dynn_Targaryen
						NOT = {
							culture = culture:northman
						}
					}
					AND = {
						is_character_stark_7 = yes
						dynasty ?= dynasty:dynn_Targaryen
						NOT = {
							religion = religion:the_pact_religion
						}
					}
				}
			}
		}
	}

	agot_headgear_crown_of_westerling_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_westerling
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_westerling_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Westerling
			}
		}
	}

	agot_headgear_crown_of_the_tides_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_tides
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_tides_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Velaryon
			}
		}
	}

	agot_headgear_dead_crown_of_gardener_peace_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_gardener_peace
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 270
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_gardener_peace_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Gardener
			}
		}
	}

	agot_headgear_crown_of_gardener_peace_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_gardener_peace
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_gardener_peace_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Gardener
				days_of_continuous_peace >= 0
			}
		}
	}

	agot_headgear_crown_of_gardener_war_iron_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_gardener_war_iron
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 265
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_gardener_war_iron_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Gardener
				days_of_continuous_war >= 1
			}
		}
	}

	agot_headgear_crown_of_mudd_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_mudd
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_mudd_artifact } }
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Mudd
			}
		}
	}

	agot_headgear_crown_of_the_grey_king_rusted_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_grey_king_rusted
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 400
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_grey_king_rusted_artifact } }
				exists = character:Grey_King_2
				this = character:Grey_King_2
			}
		}
	}

	agot_headgear_crown_of_the_nights_king_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_nights_king
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 290
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_nights_king_artifact } }
				is_character_stark_13 = yes
			}
		}
	}

	agot_headgear_crown_of_the_seven_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_seven
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 240
				agot_default_wear_crown_trigger = yes
				culture = { has_cultural_pillar = heritage_andal }
				religion = religion:the_seven_religion
			}
		}
	}

	agot_headgear_crown_of_the_old_gods_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_old_gods
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 240
				agot_default_wear_crown_trigger = yes
				culture = { has_cultural_pillar = heritage_first_man }
				religion = religion:the_pact_religion
				NOT = { 
					portrait_wildling_clothing_trigger = yes
				}
			}
		}
	}

	agot_headgear_crown_of_jeyne_westerling_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_jeyne_westerling
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_jeyne_westerling_artifact } }
				agot_default_wear_crown_trigger = yes
				is_character_westerling_2 = yes
				primary_spouse ?= {
					house ?= dynasty:dynn_Stark.dynasty_founder.house
				}
			}
		}
	}

	agot_headgear_qolab_crown_01 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_qolab
				accessory = qolab_crown_01
			}
		}
		weight = {
			base = 0
		}
	}

	agot_headgear_qolab_crown_02 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_qolab
				accessory = qolab_crown_02
			}
		}
		weight = {
			base = 0
		}
	}

	agot_headgear_qolab_crown_07 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_qolab
				accessory = qolab_crown_07
			}
		}
		weight = {
			base = 0
		}
	}

	agot_headgear_daemonblackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = daemonblackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				agot_default_wear_crown_trigger = yes
				house = house:house_Blackfyre
			}
		}
	}

	agot_headgear_crown_of_bear_island_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_bear_island
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_bear_island_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Mormont
			}
		}
	}

	agot_headgear_crown_of_hearts_home_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_hearts_home
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_hearts_home_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Corbray
			}
		}
	}

	agot_headgear_crown_of_darklyn_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_darklyn
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_darklyn_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Darklyn
			}
		}
	}

	agot_headgear_crown_of_dondarrion_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_dondarrion
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_dondarrion_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Dondarrion
			}
		}
	}

	agot_headgear_crown_of_hellholt_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_hellholt
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_hellholt_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Uller
			}
		}
	}

	agot_headgear_crown_of_castamere_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_castamere
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_castamere_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Reyne
			}
		}
	}

	agot_headgear_crown_of_deep_den_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_deep_den
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_deep_den_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Lydden
			}
		}
	}

	agot_headgear_crown_of_the_banefort_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_the_banefort
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_banefort_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Banefort
			}
		}
	}

	agot_headgear_crown_of_crakehall_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = agot_crowns
				accessory = crown_of_crakehall
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_crakehall_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Crakehall
			}
		}
	}



	
	########################################
	### AGOT SUBMOD CORE MODIFIERS START ###
	########################################

	agot_headgear_crown_of_sharp_point_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_sharp_point
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_sharp_point_artifact }
			}
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_sharp_point_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Bar_Emmon
			}
		}
	}

	agot_headgear_crown_of_stone_hedge_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_stone_hedge
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_stone_hedge_artifact }
			}
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_stone_hedge_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Bracken
			}
		}
	}

	agot_headgear_crown_of_the_grey_king_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_the_grey_king
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_grey_king_artifact }
			}
		}
	}
	
	agot_headgear_crown_of_weirwood_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_weirwood
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_weirwood_artifact }
			}
		}
	}
	
	agot_headgear_circlet_of_the_seven_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = circlet_of_the_seven
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = circlet_of_the_seven_artifact }
			}
		}
	}

	agot_headgear_crown_of_jon_north_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_jon_north
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_jon_north_artifact }
			}
			modifier = {
				add = 270
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_jonsnow_artifact }}
				agot_default_wear_crown_trigger = yes
				culture = culture:northman
				AND = {
					exists = character:Stark_7
					this = character:Stark_7 = yes  # Jon Snow (bastard son of Ned Stark)
				}
			}
		}
	}

	agot_headgear_crown_of_jon_icefire_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_jon_icefire
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_jon_icefire_artifact }
			}
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_jonsnow_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						culture = culture:northman
						knows_self_royal_bastard_secret = yes
					}
					culture = culture:high_valyrian
					dynasty ?= dynasty:dynn_Targaryen
				}
				AND = {
					exists = character:Stark_7
					this = character:Stark_7 = yes  # Jon Snow (bastard son of Ned Stark)
				}
			}
		}
	}


### Crowns of Westeros - Queen Crowns ###	

	agot_headgear_rhaenatargaryen_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = rhaenatargaryen_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_rhaenatargaryen_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_32
					this = character:Targaryen_32 = yes  # Rhaena
				}
			}
		}
	}

	agot_headgear_alyssavelaryon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = alyssavelaryon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_alyssavelaryon_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Velaryon_24 = yes # 
						this = character:Velaryon_24 = yes # Alyssa Velaryon
					}
					AND = {
						exists = character:Velaryon_53 = yes # 
						this = character:Velaryon_53 = yes # Alyssa Velaryon
					}
				}
			}
		}
	}
	
	agot_headgear_aemma_tiara = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = aemma_tiara
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = aemma_tiara_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Arryn_80
					this = character:Arryn_80 # Aemma Arryn
				}
			}
		}
	}
	
	agot_headgear_alicenthightower_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = alicenthightower_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_alicenthightower_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Hightower_97
						this = character:Hightower_97 = yes # Alicent Hightower
					}
					AND = {
						exists = character:Penrose_35 = yes
						this = character:Penrose_35 = yes # # Aelinor Penrose
					}
				}
			}
		}
	}
	
	agot_headgear_jaehaera_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = jaehaera_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = jaehaera_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Targaryen_66
						this = character:Targaryen_66 = yes  # Helaena
					}
					AND = {
						exists = character:Targaryen_71 = yes
						this = character:Targaryen_71 = yes # Jaehaera
					}
				}
			}
		}
	}
	
	agot_headgear_daena_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = daena_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_daena_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Targaryen_83
						this = character:Targaryen_83 = yes  # Daena Targaryen
					}
					AND = {
						exists = character:Atuhoris_26 = yes
						this = character:Atuhoris_26 = yes # Rohanne of Tyrosh
					}
				}
			}
		}
	}
	
	agot_headgear_bethablackwood_circlet = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = bethablackwood_circlet
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = circlet_bethablackwood_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Blackwood_87 = yes
						this = character:Blackwood_87 = yes # Betha Blackwood
					}
					AND = {
						exists = character:Targaryen_128
						this = character:Targaryen_128 = yes  # Shaera Targaryen
					}
				}
			}
		}
	}

	agot_headgear_mariah_martell_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = mariah_martell_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_mariah_martell_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_martell_79 = yes  # Myriah
				AND = {
					exists = character:Martell_79
					this = character:Martell_792 = yes  # Myriah
				}
			}
		}
	}

	agot_headgear_cersei_tiara = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = canon_queens
				accessory = cersei_tiara
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 270
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = cersei_tiara_artifact }}
				agot_can_wear_crown_trigger = yes
				is_character_lannister_6 = yes  # Cersei
				AND = {
					exists = character:Lannister_6
					this = character:Lannister_6 = yes # Cersei
				}
			}
		}
	}

### Crowns of Westeros - Main Nerdman Crowns ###
	
	agot_headgear_aliandra_martell_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aliandra_martell_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aliandra_martell_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Martell_69
						this = character:Martell_69 # Aliandra
					}
					AND = {
						exists = character:Martell_72
						this = character:Martell_72 # Marence
					}
				}
			}
		}
	}
	
	agot_headgear_mors_martell_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = mors_martell_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_mors_martell_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Martell_28
						this = character:Martell_28 # Mors II
					}
					AND = {
						exists = character:Martell_31
						this = character:Martell_31 # Garin
					}
					AND = {
						exists = character:Martell_35
						this = character:Martell_35 # Anders
					}
					AND = {
						exists = character:Martell_41
						this = character:Martell_41 # Arron
					}
					AND = {
						exists = character:Martell_45
						this = character:Martell_45 # Nysterica
					}
					AND = {
						exists = character:Martell_49
						this = character:Martell_49 # Perros
					}
					AND = {
						exists = character:Martell_59
						this = character:Martell_59 # Lewyn
					}
					AND = {
						exists = character:Martell_65
						this = character:Martell_65 # Qoren
					}
					AND = {
						exists = character:Martell_86
						this = character:Martell_86
					}
					AND = {
						exists = character:Martell_1
						this = character:Martell_1 = yes  # Loreza
					}
				}
			}
		}
	}
	
	agot_headgear_matarys_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = matarys_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_matarys_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_112
					this = character:Targaryen_112 = yes  # Matarys Targaryen
				}
			}
		}
	}
	
	agot_headgear_bittersteel_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = bittersteel_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = bittersteel_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_95
					this = character:Targaryen_95 = yes  # Aegor Bittersteel
				}
			}
		}
	}
	
	agot_headgear_daeron_the_daring_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = daeron_the_daring_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = daeron_the_daring_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_68
					this = character:Targaryen_68 = yes  # Daeron the Daring
				}
			}
		}
	}
	
	agot_headgear_maegor_brightflame_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = maegor_brightflame_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = maegor_brightflame_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_125
					this = character:Targaryen_125 = yes  # Maegor Brightflame
				}
			}
		}
	}
	
	agot_headgear_seven_dragon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = seven_dragon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = seven_dragon_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_84
					this = character:Targaryen_84 = yes  # Rhaena Targaryen
				}
			}
		}
	}
	
	agot_headgear_elaena_crown_default = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = elaena_crown_default
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = elaena_crown_default_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_85 = yes  # Elaena Targaryen
				AND = {
					exists = character:Targaryen_85
					this = character:Targaryen_85 = yes  # Elaena Targaryen
				}
			}
		}
	}
	
	agot_headgear_elaena_crown_red = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = elaena_crown_red
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = elaena_crown_red_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_115 = yes  # Aelor Targaryen
				is_character_targaryen_116 = yes  # Aelora Targaryen
				OR = {
					AND = {
						exists = character:Targaryen_115
						this = character:Targaryen_115 = yes  # Aelor Targaryen
					}
					AND = {
						exists = character:Targaryen_116
						this = character:Targaryen_116 = yes  # Aelora Targaryen
					}
				}
			}
		}
	}
	
	agot_headgear_elaena_crown_black = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = elaena_crown_black
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = elaena_crown_black_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Blackfyre_1
					this = character:Blackfyre_1 = yes # Aegon Blackfyre
				}
			}
		}
	}
	
	agot_headgear_aemon_blackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aemon_blackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = aemon_blackfyre_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Blackfyre_2
					this = character:Blackfyre_2 = yes  # Calla Blackfyre
				}
			}
		}
	}
	
	agot_headgear_calla_blackfyre_circlet = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = calla_blackfyre_circlet
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = calla_blackfyre_circlet_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Blackfyre_3
					this = character:Blackfyre_3 = yes  # Calla Blackfyre
				}
			}
		}
	}
	
	agot_headgear_argella_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = argella_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = argella_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Durrandon_88
					this = character:Durrandon_88 = yes  # Argella Durrandon
				}
			}
		}
	}
	
	agot_headgear_myrcella_circlet = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = myrcella_circlet
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = myrcella_circlet_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Baratheon_6
					this = character:Baratheon_6 # Myrcella
				}
			}
		}
	}
	
	agot_headgear_sharra_arryn_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = sharra_arryn_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = sharra_arryn_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Arryn_58
					this = character:Arryn_58 # Sharra Arryn
				}
			}
		}
	}
	
	agot_headgear_roland_arryn_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = roland_arryn_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = roland_arryn_crown_artifact }}
				OR = {
					AND = {
						agot_default_wear_crown_trigger = yes
						is_character_arryn_20 = yes  # Roland Arryn
						AND = {
							exists = character:Arryn_20
							this = character:Arryn_20 # Roland Arryn
						}
					}
					has_character_flag = roland_crown_bandit
				}
			}
		}
	}
	
	agot_headgear_rhaegar_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = rhaegar_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_rhaegar_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_3
					this = character:Targaryen_3 # Rhaegar
				}
			}
		}
	}

	agot_headgear_massey_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = massey_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = massey_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Massey
			}
		}
	}

	agot_headgear_aegonvi_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aegonvi_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aegonvi_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					dynasty ?= dynasty:dynn_Targaryen
					dynasty ?= dynasty:dynn_Essos
				}
				AND = {
					exists = character:Targaryen_9
					this = character:Targaryen_9 # Aegon VI
				}
			}
		}
	}
	
	agot_headgear_viserysiii_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = viserysiii_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_viserysiii_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_8
					this = character:Targaryen_8 # Viserys III
				}
			}
		}
	}
	
	agot_headgear_maesteraemon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = maesteraemon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_maesteraemon_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_120 = yes  # Aemon Targaryen (Maester)
				AND = {
					exists = character:Targaryen_120
					this = character:Targaryen_120 # Maester Aemon
				}
			}
		}
	}
	
	agot_headgear_aegontheuncrowned_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aegontheuncrowned_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aegontheuncrowned_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_33 = yes  # Aegon the Uncrowned
				AND = {
					exists = character:Targaryen_33
					this = character:Targaryen_33 # Aegon the Uncrowned
				}
			}
		}
	}
	
	agot_headgear_brightflame_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = brightflame_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_brightflame_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_119
					this = character:Targaryen_119 # Aerion
				}
			}
		}
	}
	
	agot_headgear_baelon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = baelon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_baelon_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_46
					this = character:Targaryen_46 # Baelon
				}
			}
		}
	}
	
	agot_headgear_valarr_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = valarr_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_valarr_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_111 = yes  # Valarr Targaryen
				AND = {
					exists = character:Targaryen_111
					this = character:Targaryen_111 # Valarr
				}
			}
		}
	}
	
	agot_headgear_aemonsonofjaehaerys_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aemonsonofjaehaerys_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aemonsonofjaehaerys_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_45 = yes  # Aemon son of Jahaerys I
				AND = {
					exists = character:Targaryen_45
					this = character:Targaryen_45 # Aemon, son of Jae I
				}
			}
		}
	}
	
	agot_headgear_baelorbreakspear_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = baelorbreakspear_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_baelorbreakspear_artifact }}
				agot_default_wear_crown_trigger = yes
				is_character_targaryen_107 = yes  # Baelor Breakspear
				AND = {
					exists = character:Targaryen_107
					this = character:Targaryen_107 # Baelor Breakspear
				}
			}
		}
	}
	
	agot_headgear_laenorvelaryon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = laenorvelaryon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_laenorvelaryon_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Velaryon_35
					this = character:Velaryon_35 # Laenor
				}
			}
		}
	}
	
	agot_headgear_jacaerysvelaryon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = jacaerysvelaryon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_jacaerysvelaryon_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_75
					this = character:Targaryen_75 # Jacaerys
				}
			}
		}
	}

	agot_headgear_celtigar_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = celtigar_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_celtigar_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Celtigar
			}
		}
	}
	
	agot_headgear_duncandragonfly_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = duncandragonfly_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_duncandragonfly_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_126
					this = character:Targaryen_126 # Duncan the Small
				}
			}
		}
	}

	agot_headgear_shieraseastar_crown_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = shieraseastar_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_shieraseastar_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_97
					this = character:Targaryen_97 # Shiera Seastar
				}
			}
		}
	}
		
	agot_headgear_aereatargaryen_crown_01 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aereatargaryen_crown_01
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = aereatargaryen_crown_01_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_41
					this = character:Targaryen_41 # Aerea
				}
			}
		}
	}
	
	agot_headgear_aereatargaryen_crown_02 = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aereatargaryen_crown_02
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = aereatargaryen_crown_02_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_42
					this = character:Targaryen_42 # Rhaella, Daughter of Rhaena
				}
			}
		}
	}
	
	agot_headgear_vaellatargaryen_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = vaellatargaryen_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = vaellatargaryen_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_124
					this = character:Targaryen_124 # Vaella
				}
			}
		}
	}
	
	agot_headgear_rhaenysvelaryon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = rhaenysvelaryon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_rhaenysvelaryon_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_59
					this = character:Targaryen_59 # Rhaenys (The Queen Who Never Was)
				}
			}
		}
	}
	
	agot_headgear_aegonblackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aegonblackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aegonblackfyre_artifact }}
				agot_default_wear_crown_trigger = yes
				house = house:house_Blackfyre
				AND = {
					exists = character:Blackfyre_9
					this = character:Blackfyre_9 # Aegon_Blackfyre
				}
			}
		}
	}
	
	agot_headgear_daemon_ii_blackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = daemon_ii_blackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_daemon_ii_blackfyre_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Blackfyre_5
					this = character:Blackfyre_5 # Daemon II_Blackfyre
				}
			}
		}
	}
	
	agot_headgear_haegonblackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = haegonblackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_haegonblackfyre_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						exists = character:Blackfyre_6
						this = character:Blackfyre_6 # Haegon Blackfyre
					}
					AND = {
						exists = character:Blackfyre_11
						this = character:Blackfyre_1 # Daemon III Blackfyre
					}
				}
			}
		}
	}
	
	agot_headgear_aenysblackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aenysblackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aenysblackfyre_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Blackfyre_7
					this = character:Blackfyre_7 # Aenys_Blackfyre
				}
			}
		}
	}
	
	agot_headgear_maelysblackfyre_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = maelysblackfyre_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_maelysblackfyre_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Blackfyre_14
					this = character:Blackfyre_14 # Maelys_Blackfyre
				}
			}
		}
	}
	
	agot_headgear_orysbaratheon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = orysbaratheon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_orysbaratheon_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Baratheon_14
					this = character:Baratheon_14 # Orys
				}
			}
		}
	}
	
	agot_headgear_robbstark_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = robbstark_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_robbstark_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Stark_6
					this = character:Stark_6 # Robb Stark
				}
			}
		}
	}

	agot_headgear_aegonsonofjaehaerys_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aegonsonofjaehaerys_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aegonsonofjaehaerys_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_43
					this = character:Targaryen_43 # Unborn Egg
				}
			}
		}
	}
	
	agot_headgear_vaegon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = vaegon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_vaegon_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_49
					this = character:Targaryen_49 # Vaegon
				}
			}
		}
	}
	
	agot_headgear_aemond_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = aemond_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_aemond_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_67
					this = character:Targaryen_67 # Aemond
				}
			}
		}
	}
	
	agot_headgear_daenerys_daughterofjaehaerys_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = daenerys_daughterofjaehaerys_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = daenerys_daughterofjaehaerys_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_44
					this = character:Targaryen_44 # Daenerys, daughter of Jae I
				}
			}
		}
	}
	
	agot_headgear_garlandgardener_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = garlandgardener_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = garlandgardener_crown_artifact } }
				OR = {
					AND = {
						exists = character:Gardener_17
						this = character:Gardener_17 # Garland II Gardener
					}
					AND = {
						exists = character:Gardener_18
						this = character:Gardener_18 # Gwayne II Gardener
					}
					AND = {
						exists = character:Gardener_21
						this = character:Gardener_21 # John II Gardener
					}
					AND = {
						exists = character:Gardener_22
						this = character:Gardener_22 # Garth IV Gardener
					}
					AND = {
						exists = character:Gardener_27
						this = character:Gardener_27 # Garth VI Gardener
					}
					AND = {
						exists = character:Gardener_28
						this = character:Gardener_28 # Garth VI Gardener
					}
					AND = {
						exists = character:Gardener_38
						this = character:Gardener_38 # Gwayne IV Gardener
					}
					AND = {
						exists = character:Gardener_43
						this = character:Gardener_43 # Gwayne V Gardener
					}
					# AND = {
					# 	exists = character:CrownsOfWesteros_01
					# 	this = character:CrownsOfWesteros_01 # Wynafred Gardener
					# }
				}
			}
		}
	}
	
	agot_headgear_garthgoldhand_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = garthgoldhand_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = garthgoldhand_crown_artifact } }
				OR = {
					AND = {
						exists = character:Gardener_32
						this = character:Gardener_32 # Garth VII 'Goldenhand' Gardener
					}
					AND = {
						exists = character:Gardener_35
						this = character:Gardener_35 # Gordan II Gardener
					}
					AND = {
						exists = character:Gardener_40
						this = character:Gardener_40 # Mern III Gardener
					}
					AND = {
						exists = character:Gardener_45
						this = character:Gardener_45 # Meryn III Gardener
					}
					AND = {
						exists = character:Gardener_49
						this = character:Gardener_49 # Mern IV Gardener
					}
					AND = {
						exists = character:Gardener_51
						this = character:Gardener_51 # Perceon II Gardener
					}
					AND = {
						exists = character:Gardener_62
						this = character:Gardener_62 # Perceon III Gardener
					}
					AND = {
						exists = character:Gardener_68
						this = character:Gardener_68 # Garland IV Gardener
					}
					AND = {
						exists = character:Gardener_72
						this = character:Gardener_72 # Gwayne VII Gardener
					}
					AND = {
						exists = character:Gardener_74
						this = character:Gardener_74 # John III Gardener
					}
				}
			}
		}
	}	
	
	agot_headgear_tyboltthunderbolt_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = tyboltthunderbolt_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_tyboltthunderbolt_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Lannister
				OR = {
					AND = {
						exists = character:Lannister_30
						this = character:Lannister_30 # King Loreon I 'the Lion' Lannister
					}
					AND = {
						exists = character:Lannister_34
						this = character:Lannister_34 # Line of Loreon the Lion
					}
					AND = {
						exists = character:Lannister_139
						this = character:Lannister_139 # King Tyrion I Lannister
					}
					AND = {
						exists = character:Lannister_57
						this = character:Lannister_57 # King Tyrion II 'The Tormentor' Lannister
					}
					AND = {
						exists = character:Lannister_37
						this = character:Lannister_37 # King Tybolt 'Thunderbolt' Lannister
					}
				}
			}
		}
	}
	
	agot_headgear_geroldlannister_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = geroldlannister_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_geroldlannister_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Lannister
				OR = {
					AND = {
						exists = character:Lannister_35
						this = character:Lannister_35 # King Gerold I 'the Great' Lannister
					}
					AND = {
						exists = character:Lannister_36
						this = character:Lannister_36 # King Gerold the Great's Line
					}
					AND = {
						exists = character:Lannister_38
						this = character:Lannister_38 # King Tyrion III Lannister
					}
					AND = {
						exists = character:Lannister_39
						this = character:Lannister_39 # King Gerold II Lannister
					}
					AND = {
						exists = character:Lannister_41
						this = character:Lannister_41 # Queen Lanna Lannister
					}
					AND = {
						exists = character:Lannister_43
						this = character:Lannister_43 # King Tommen I Lannister
					}
					AND = {
						exists = character:Lannister_46
						this = character:Lannister_46 # King Loreon III 'the Limp' Lannister
					}
				}
			}
		}
	}
	
	agot_headgear_lancellannister_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = lancellannister_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_lancellannister_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Lannister
				OR = {
					AND = {
						exists = character:Lannister_45
						this = character:Lannister_45 # King Lancel I 'the Lion' Lannister
					}
					AND = {
						exists = character:Lannister_47
						this = character:Lannister_47 # King Loreon III's Line
					}
					AND = {
						exists = character:Lannister_48
						this = character:Lannister_48 # King Lancel II Lannister
					}
					AND = {
						exists = character:Lannister_51
						this = character:Lannister_51 # King Tywell I Lannister
					}
					AND = {
						exists = character:Lannister_54
						this = character:Lannister_54 # King Loreon IV Lannister
					}
					AND = {
						exists = character:Lannister_58
						this = character:Lannister_58 # King Lancel III Lannister
					}
					AND = {
						exists = character:Lannister_59
						this = character:Lannister_59 # King Lancel IV Lannister
					}
					AND = {
						exists = character:Lannister_62
						this = character:Lannister_62 # King Tommen II Lannister
					}
				}
			}
		}
	}
	
	agot_headgear_margaerytyrell_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = margaerytyrell_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_margaerytyrell_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					AND = {
						primary_spouse ?= {	
							dynasty ?= dynasty:dynn_Baratheon
						}
						dynasty ?= dynasty:dynn_Tyrell
					}
					AND = {
						father ?= {	
							dynasty ?= dynasty:dynn_Baratheon
						}
						mother ?= {	
							dynasty ?= dynasty:dynn_Tyrell
						}
					}
				}
			}
		}
	}

	agot_headgear_dead_gardener_peace_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = gardener_peace_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 280
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_gardener_peace_artifact } }
				OR = {
					AND = {
						exists = character:Gardener_75
						this = character:Gardener_75 # Meryn IV Gardener
					}
					AND = {
						exists = character:Gardener_77
						this = character:Gardener_77 # Garland V Gardener
					}
					AND = {
						exists = character:Gardener_78
						this = character:Gardener_78 # Gyles III Gardener
					}
					AND = {
						exists = character:Gardener_79
						this = character:Gardener_79 # Mern VII Gardener
					}
					AND = {
						exists = character:Gardener_81
						this = character:Gardener_81 # Mern VIII Gardener
					}
					AND = {
						exists = character:Gardener_83
						this = character:Gardener_83 # Garland VI Gardener
					}
					AND = {
						exists = character:Gardener_87
						this = character:Gardener_87 # Garth XII Gardener
					}
					AND = {
						exists = character:Gardener_90
						this = character:Gardener_90 # Garse VII Gardener
					}
					AND = {
						exists = character:Gardener_95
						this = character:Gardener_95 # Mern IX Gardener
					}
				}
			}
		}
	}

	agot_headgear_gardener_peace_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = gardener_peace_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_gardener_peace_artifact } }
				OR = {
					AND = {
						exists = character:Gardener_75
						this = character:Gardener_75 # Meryn IV Gardener
					}
					AND = {
						exists = character:Gardener_77
						this = character:Gardener_77 # Garland V Gardener
					}
					AND = {
						exists = character:Gardener_78
						this = character:Gardener_78 # Gyles III Gardener
					}
					AND = {
						exists = character:Gardener_79
						this = character:Gardener_79 # Mern VII Gardener
					}
					AND = {
						exists = character:Gardener_81
						this = character:Gardener_81 # Mern VIII Gardener
					}
					AND = {
						exists = character:Gardener_83
						this = character:Gardener_83 # Garland VI Gardener
					}
					AND = {
						exists = character:Gardener_87
						this = character:Gardener_87 # Garth XII Gardener
					}
					AND = {
						exists = character:Gardener_90
						this = character:Gardener_90 # Garse VII Gardener
					}
					AND = {
						exists = character:Gardener_95
						this = character:Gardener_95 # Mern IX Gardener
					}
				}
				days_of_continuous_peace >= 0
			}
		}
	}
	
	agot_headgear_gardener_war_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = gardener_war_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 265
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_gardener_war_artifact }}
				OR = {
					AND = {
						exists = character:Gardener_75
						this = character:Gardener_75 # Meryn IV Gardener
					}
					AND = {
						exists = character:Gardener_77
						this = character:Gardener_77 # Garland V Gardener
					}
					AND = {
						exists = character:Gardener_78
						this = character:Gardener_78 # Gyles III Gardener
					}
					AND = {
						exists = character:Gardener_79
						this = character:Gardener_79 # Mern VII Gardener
					}
					AND = {
						exists = character:Gardener_81
						this = character:Gardener_81 # Mern VIII Gardener
					}
					AND = {
						exists = character:Gardener_83
						this = character:Gardener_83 # Garland VI Gardener
					}
					AND = {
						exists = character:Gardener_87
						this = character:Gardener_87 # Garth XII Gardener
					}
					AND = {
						exists = character:Gardener_90
						this = character:Gardener_90 # Garse VII Gardener
					}
					AND = {
						exists = character:Gardener_95
						this = character:Gardener_95 # Mern IX Gardener
					}
				}
				days_of_continuous_war >= 1
			}
		}
	}
	
	agot_headgear_winterrose_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = winterrose_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = winterrose_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Stark_5
					this = character:Stark_5 # Lyanna Stark
				}
			}
		}
	}
	
	agot_headgear_baldric_durrandon_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = baldric_durrandon_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = baldric_durrandon_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Durrandon_51
					this = character:Durrandon_51 # Baldric the Cunning
				}
			}
		}
	}
	
	agot_headgear_winterrose_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = winterrose_crown
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = winterrose_crown_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Stark_5
					this = character:Stark_5 # Lyanna Stark
				}
			}
		}
	}

### Crowns of Westeros - WW Crowns ###

	agot_headgear_crown_of_the_mountain_and_vale_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_the_mountain_and_vale
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 245
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_mountain_and_vale_artifact }}
				agot_default_wear_crown_trigger = yes
				OR = {
					culture = culture:moonman
					culture = culture:valeman
					culture = culture:fingerman
				}
			}
		}
	}

	agot_headgear_crown_of_goldengrove_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_goldengrove
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_goldengrove_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Rowan
			}
		}
	}

	agot_headgear_crown_of_the_golden_tree_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_goldengrove
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_the_golden_tree_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Erdtree
			}
		}
	}

	agot_headgear_circlet_of_stark_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = circlet_of_stark
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 265
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = circlet_of_stark_artifact }}
				OR = {
					primary_spouse ?= {
						primary_title.tier = tier_empire
					}
					primary_spouse ?= {
						primary_title.tier = tier_kingdom
						agot_is_independent_ruler = yes
					}
				}
				dynasty ?= dynasty:dynn_Stark
			}
		}
	}

	agot_headgear_crown_of_yronwood_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_yronwood
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 300
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_yronwood_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Yronwood
			}
		}
	}

	agot_headgear_crown_of_estermont_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_estermont
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_estermont_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Estermont
			}
		}
	}

	agot_headgear_crown_of_connington_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_connington
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 260
				is_crowns_westeros_loaded_trigger = yes
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_connington_artifact }}
				agot_default_wear_crown_trigger = yes
				dynasty ?= dynasty:dynn_Connington
			}
		}
	}

	agot_headgear_crown_of_bloodraven_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_bloodraven
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_bloodraven_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Targaryen_96
					this = character:Targaryen_96 = yes # Bloodraven
				}
			}
		}
	}

	agot_headgear_mockingbird_circlet_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = mockingbird_circlet
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = mockingbird_circlet_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Baelish_2
					this = character:Baelish_2 = yes # Petyr Baelish
				}
			}
		}
	}

	agot_headgear_crown_of_sansa_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_sansa
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_sansa_artifact }}
				agot_default_wear_crown_trigger = yes
				AND = {
					exists = character:Stark_8
					this = character:Stark_8 = yes # Sansa Stark
				}
			}
		}
	}

	agot_headgear_crown_of_cersei_ruler_crown = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = crowns_of_westeros
				accessory = crown_of_cersei_ruler
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 275
				is_crowns_westeros_loaded_trigger = yes
				has_game_rule = show_dynamic_crowns_enabled
				NOT = { agot_has_artifact_equipped = { ARTIFACT_VARIABLE = crown_of_cersei_ruler_artifact }}
				primary_title = title:h_the_iron_throne
				is_character_lannister_6 = yes # Cersei Lannister
				AND = {
					exists = character:Lannister_6
					this = character:Lannister_6 = yes # Cersei Lannister
				}
			}
		}
	}
  }